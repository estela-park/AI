import numpy as np
b_min=np.array([-1, -1, -1])
b_max=np.array([1, 1, 1])

print(b_min - b_max)
print(type(b_min - b_max))

coords = np.mgrid[:512, :512, :512]
print(coords)
print(coords.shape)
print(type(coords))

coords_matrix = np.eye(4)
print(coords_matrix)
print(coords_matrix.shape)
print(type(coords_matrix))
length = [2, 2, 2]
coords_matrix[0, 0] = length[0] / 512
print(coords_matrix)
print(coords_matrix.shape)
print(type(coords_matrix))
coords_matrix[1, 1] = length[1] / 512
print(coords_matrix)
print(coords_matrix.shape)
print(type(coords_matrix))
coords_matrix[2, 2] = length[2] / 512
print(coords_matrix)
print(coords_matrix.shape)
print(type(coords_matrix))
coords_matrix[0:3, 3] = b_min
print(coords_matrix)
print(coords_matrix.shape)
print(type(coords_matrix))

print(coords_matrix[:3, :3].shape)
print(coords.shape)
coords = coords.reshape(3, -1)
print(coords.shape)

coords = np.matmul(coords_matrix[:3, :3], coords)
print(coords)
print(coords.shape)
print(type(coords))

print(coords_matrix[:3, 3:4])

coords = coords + coords_matrix[:3, 3:4]

print(coords)
print(coords.shape)
print(type(coords))

# [-2 -2 -2]
# <class 'numpy.ndarray'>
# [[[[  0   0   0 ...   0   0   0]
#    [  0   0   0 ...   0   0   0]
#    [  0   0   0 ...   0   0   0]
#    ...
#    [  0   0   0 ...   0   0   0]
#    [  0   0   0 ...   0   0   0]
#    [  0   0   0 ...   0   0   0]]

#   [[  1   1   1 ...   1   1   1]
#    [  1   1   1 ...   1   1   1]
#    [  1   1   1 ...   1   1   1]
#    ...
#    [  1   1   1 ...   1   1   1]
#    [  1   1   1 ...   1   1   1]
#    [  1   1   1 ...   1   1   1]]

#   [[  2   2   2 ...   2   2   2]
#    [  2   2   2 ...   2   2   2]
#    [  2   2   2 ...   2   2   2]
#    ...
#    [  2   2   2 ...   2   2   2]
#    [  2   2   2 ...   2   2   2]
#    [  2   2   2 ...   2   2   2]]

#   ...

#   [[509 509 509 ... 509 509 509]
#    [509 509 509 ... 509 509 509]
#    [509 509 509 ... 509 509 509]
#    ...
#    [509 509 509 ... 509 509 509]
#    [509 509 509 ... 509 509 509]
#    [509 509 509 ... 509 509 509]]

#   [[510 510 510 ... 510 510 510]
#    [510 510 510 ... 510 510 510]
#    [510 510 510 ... 510 510 510]
#    ...
#    [510 510 510 ... 510 510 510]
#    [510 510 510 ... 510 510 510]
#    [510 510 510 ... 510 510 510]]

#   [[511 511 511 ... 511 511 511]
#    [511 511 511 ... 511 511 511]
#    [511 511 511 ... 511 511 511]
#    ...
#    [511 511 511 ... 511 511 511]
#    [511 511 511 ... 511 511 511]
#    [511 511 511 ... 511 511 511]]]


#  [[[  0   0   0 ...   0   0   0]
#    [  1   1   1 ...   1   1   1]
#    [  2   2   2 ...   2   2   2]
#    ...
#    [509 509 509 ... 509 509 509]
#    [510 510 510 ... 510 510 510]
#    [511 511 511 ... 511 511 511]]

#   [[  0   0   0 ...   0   0   0]
#    [  1   1   1 ...   1   1   1]
#    [  2   2   2 ...   2   2   2]
#    ...
#    [509 509 509 ... 509 509 509]
#    [510 510 510 ... 510 510 510]
#    [511 511 511 ... 511 511 511]]

#   [[  0   0   0 ...   0   0   0]
#    [  1   1   1 ...   1   1   1]
#    [  2   2   2 ...   2   2   2]
#    ...
#    [509 509 509 ... 509 509 509]
#    [510 510 510 ... 510 510 510]
#    [511 511 511 ... 511 511 511]]

#   ...

#   [[  0   0   0 ...   0   0   0]
#    [  1   1   1 ...   1   1   1]
#    [  2   2   2 ...   2   2   2]
#    ...
#    [509 509 509 ... 509 509 509]
#    [510 510 510 ... 510 510 510]
#    [511 511 511 ... 511 511 511]]

#   [[  0   0   0 ...   0   0   0]
#    [  1   1   1 ...   1   1   1]
#    [  2   2   2 ...   2   2   2]
#    ...
#    [509 509 509 ... 509 509 509]
#    [510 510 510 ... 510 510 510]
#    [511 511 511 ... 511 511 511]]

#   [[  0   0   0 ...   0   0   0]
#    [  1   1   1 ...   1   1   1]
#    [  2   2   2 ...   2   2   2]
#    ...
#    [509 509 509 ... 509 509 509]
#    [510 510 510 ... 510 510 510]
#    [511 511 511 ... 511 511 511]]]


#  [[[  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    ...
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]]

#   [[  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    ...
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]]

#   [[  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    ...
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]]

#   ...

#   [[  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    ...
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]]

#   [[  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    ...
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]]

#   [[  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    ...
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]
#    [  0   1   2 ... 509 510 511]]]]
# (3, 512, 512, 512)
# <class 'numpy.ndarray'>
# [[1. 0. 0. 0.]
#  [0. 1. 0. 0.]
#  [0. 0. 1. 0.]
#  [0. 0. 0. 1.]]
# (4, 4)
# <class 'numpy.ndarray'>
# [[0.00390625 0.         0.         0.        ]
#  [0.         1.         0.         0.        ]
#  [0.         0.         1.         0.        ]
#  [0.         0.         0.         1.        ]]
# (4, 4)
# <class 'numpy.ndarray'>
# [[0.00390625 0.         0.         0.        ]
#  [0.         0.00390625 0.         0.        ]
#  [0.         0.         1.         0.        ]
#  [0.         0.         0.         1.        ]]
# (4, 4)
# <class 'numpy.ndarray'>
# [[0.00390625 0.         0.         0.        ]
#  [0.         0.00390625 0.         0.        ]
#  [0.         0.         0.00390625 0.        ]
#  [0.         0.         0.         1.        ]]
# (4, 4)
# <class 'numpy.ndarray'>
# [[ 0.00390625  0.          0.         -1.        ]
#  [ 0.          0.00390625  0.         -1.        ]
#  [ 0.          0.          0.00390625 -1.        ]
#  [ 0.          0.          0.          1.        ]]
# (4, 4)
# <class 'numpy.ndarray'>
# (3, 3)
# (3, 512, 512, 512)
# (3, 134217728)
# [[0.         0.         0.         ... 1.99609375 1.99609375 1.99609375]
#  [0.         0.         0.         ... 1.99609375 1.99609375 1.99609375]
#  [0.         0.00390625 0.0078125  ... 1.98828125 1.9921875  1.99609375]]
# (3, 134217728)
# <class 'numpy.ndarray'>
# [[-1.]
#  [-1.]
#  [-1.]]
# [[-1.         -1.         -1.         ...  0.99609375  0.99609375
#    0.99609375]
#  [-1.         -1.         -1.         ...  0.99609375  0.99609375
#    0.99609375]
#  [-1.         -0.99609375 -0.9921875  ...  0.98828125  0.9921875
#    0.99609375]]
# (3, 134217728)
# <class 'numpy.ndarray'>